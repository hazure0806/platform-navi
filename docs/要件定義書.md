# 要件定義書 - のりばナビ

**文書バージョン:** 1.1
**最終更新日:** 2025年5月14日

## 1. プロジェクト概要

### 1.1. プロジェクト名

のりばナビ

### 1.2. アプリの目的・背景

- **解決したい課題:**
  - 電車で目的の駅に到着した際、乗車した車両の位置によって、乗り換えたい路線や目的の出口へのアクセスしやすさが大きく変わる。
  - 特に、たまにしか利用しない駅や路線、大規模なターミナル駅では、どの車両に乗れば効率的に移動できるか迷ってしまうことが多い。
  - 例：名古屋市営地下鉄東山線で名古屋駅へ向かう際、乗車位置によってJR線や名鉄線への乗り換えの便利さが異なるが、それを瞬時に判断するのが難しい。
- **アプリが提供する価値:**
  - 降車駅でのスムーズな移動をサポートし、時間短縮や移動のストレス軽減に貢献する。
  - 乗り換えや目的地までの構内での無駄な歩行を減らすことを目指す。

### 1.3. ターゲットユーザー

- 主に以下のようなユーザーを想定：
  - 特定の駅や路線をたまにしか利用しない人
  - 乗り換えに不慣れな人（例：新入生、転勤者、旅行者など）
  - 大きなターミナル駅（特に名古屋駅）で効率的に移動したいと考えている人
- （将来的にはインバウンド観光客も視野に入れる）

## 2. アプリのコア機能とスコープ

### 2.1. コア機能

ユーザーが「乗車する路線」「方面（行き先）」「降車駅」「乗車位置」を選択することで、降車駅のどのあたりに到着し、そこから近い主要な乗り換え路線や出口番号などの情報をシンプルに表示する。
（操作フローは「乗車位置から到着情報を確認する」モードを優先的に実装する）

### 2.2. 初期実装範囲 (バージョン1.0)

- **対象プラットフォーム:** PWA (Progressive Web App) - 主要なモダンブラウザ（Google Chrome, Safari, Firefox, Microsoft Edgeなど）を搭載したスマートフォンやPCで動作
- **対象路線:**
  - 名古屋市営地下鉄 東山線
  - 名古屋市営地下鉄 桜通線
- **対象降車駅:**
  - 名古屋駅
- **提供情報:**
  - 選択した乗車位置（例：「前方」「中間」「後方」などの区分 ※この区分の具体的な定義は別途検討）に応じて、名古屋駅構内での到着エリアの目安。
  - その到着エリアから最もアクセスしやすい主要な出口番号。
  - その到着エリアから最もアクセスしやすい主要な乗り換え路線名（JR各線、名鉄線、近鉄線など）。

## 3. 主要機能リスト (バージョン1.0)

- **路線選択機能:**
  - ユーザーが「東山線」または「桜通線」を選択できる。
- **方面選択機能:**
  - 選択した路線に応じて、適切な方面（例：東山線なら「藤が丘方面行き」「高畑方面行き」）を選択できる。
- **降車駅選択機能:**
  - 初期バージョンでは「名古屋駅」がデフォルト、または選択肢が名古屋駅のみ。
- **乗車位置選択機能:**
  - ユーザーが乗車する（あるいは乗車した）車両の位置（例：「前方」「中間」「後方」）を選択できる。
- **結果表示機能:**
  - 選択された条件に基づき、名古屋駅での到着エリアの目安、最寄りの出口番号、最寄りの乗り換え路線名などを分かりやすく表示する。

## 4. 非機能要件 (特に重視する点)

- **シンプルさ・使いやすさ (UI/UX):**
  - 直感的で誰にでも簡単に操作できるインターフェース。
  - 必要な情報が素早く確認できること。
  - レスポンシブデザインに対応し、様々な画面サイズで快適に利用できること。
- **拡張性:**
  - 将来的に対応路線、対応駅、新機能を追加しやすいようなデータ構造、プログラム設計を意識する。
- **情報の正確性:**
  - 提供する乗り換え情報や出口情報の正確性を可能な限り担保する。
  - （情報収集方法と更新頻度についても検討が必要）
- **パフォーマンス:**
  - アプリの起動や情報表示がスムーズであること。
- **オフライン対応:**
  - Service Workerを活用し、基本的な機能はオフラインでも利用可能にすることを目指す。
- **アクセシビリティ:**
  - 多くの人が利用しやすいように、基本的なウェブアクセシビリティに配慮する（例：適切なコントラスト、キーボード操作など）。
- **セキュリティ:**
  - HTTPS通信を必須とする。

## 5. 将来的な拡張の可能性 (バージョン1.0には含めない)

- 対応路線・駅の拡大（名古屋市営地下鉄全線、JR、名鉄、近鉄など他の鉄道路線、名古屋以外の主要都市の駅）。
- 「目的地（乗り換え路線や出口）から最適な乗車位置を逆引きする」機能の実装。
- 駅構内図の簡易表示との連携。
- 多言語対応（インバウンド観光客向け）。
- ユーザーからの情報提供・フィードバック機能。
- プッシュ通知による情報提供（例：運行情報や更新情報など）。
- GPS連携による最寄り駅の自動表示や、乗車中路線の推定など。
